"use strict";(self.webpackChunkgulp2024=self.webpackChunkgulp2024||[]).push([[765],{765:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});var r=o(922),s=o(212),a=o(417),i=o(47);const n=class{constructor(){this.room=document.querySelector(".room"),this.room&&(this.urlParams=new URLSearchParams(window.location.search),this.roomId=this.urlParams.get("id")?+this.urlParams.get("id"):null,this.titlePage=document.querySelector("title"),this.loader=new r.a(document.querySelector(".main"),{isHidden:!1,customSelector:"custom-loader",position:"fixed"}),this.slider=new Swiper(".slider-room",{slidesPerView:1,observeSlideChildren:!0,observer:!0,navigation:{nextEl:".room__slider-btn.btn-slider-next",prevEl:".room__slider-btn.btn-slider-prev"}}),this.dataRoomElements=this.room.querySelectorAll("[data-room]"),this.linkRoom=this.room.querySelector(".link-room"),this.buttonRoom=this.room.querySelector(".button-room"),this.cardsSliderWrapper=document.querySelector(".cards-slider__wrapper.swiper-wrapper"),this.pathContent=document.querySelector(".path-content"))}async getData(e,t=(0,a.D)({room_id:this.roomId})){try{const o=await s.Ay.get(`/${e}${t}`);if(200!==o.status)return;return o.data}catch(e){throw console.error(e),e}}async renderRoom(e){if(this.room)try{this.loader.enable();const[{room:t},{rooms:o}]=await Promise.all([this.getData("_get_choosed_room_info_"),this.getData("_get_other_boxes_")]),[r]=e.length?e.filter((e=>+e.warehouse_id==+t.warehouse_id)):[null];t&&(this.dataRoomElements.length&&this.dataRoomElements.forEach((e=>{const o=e.getAttribute("data-room");e.textContent="price"==o?(0,i.F)(t.price_11m):t[o],this.linkRoom.href=`./rent-room.html?ids=${encodeURIComponent(JSON.stringify([t.room_id]))}`,this.buttonRoom.setAttribute("data-room-id",t.room_id)})),this.pathContent&&r&&(this.pathContent.innerHTML=`\n            <a href="index.html" class="path__link hover-link">Главная</a>\n            <span class="path__sep">/</span>\n            <a href="calculator.html" class="path__link hover-link">Калькулятор</a>\n            <span class="path__sep">/</span>\n            <a href="./warehouse/1.html?id=${r.warehouse_id}" class="path__link hover-link">${r.warehouse_name}</a>\n            <span class="path__sep">/</span>\n            <span class="path__link">Кладовка ${t.room_id}</span>`)),o&&o.length&&this.cardsSliderWrapper}catch(e){throw console.error(e),e}finally{this.loader.disable()}}}}}]);