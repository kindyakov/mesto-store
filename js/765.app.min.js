"use strict";(self.webpackChunkgulp2024=self.webpackChunkgulp2024||[]).push([[765],{765:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var r=o(922),s=o(212),a=o(417),i=o(47);const n=class{constructor(){this.room=document.querySelector(".room"),this.room&&(this.urlParams=new URLSearchParams(window.location.search),this.roomId=this.urlParams.get("id")?+this.urlParams.get("id"):null,this.titlePage=document.querySelector("title"),this.loader=new r.a(document.querySelector(".main"),{isHidden:!1,customSelector:"custom-loader",position:"fixed"}),this.slider=new Swiper(".slider-room",{slidesPerView:1,observeSlideChildren:!0,observer:!0,navigation:{nextEl:".room__slider-btn.btn-slider-next",prevEl:".room__slider-btn.btn-slider-prev"}}),this.dataRoomElements=this.room.querySelectorAll("[data-room]"),this.linkRoom=this.room.querySelector(".link-room"),this.buttonRoom=this.room.querySelector(".button-room"),this.cardsSliderWrapper=document.querySelector(".cards-slider__wrapper.swiper-wrapper"),this.pathContent=document.querySelector(".path-content"))}async getData(t,e=(0,a.D)({room_id:this.roomId})){try{const o=await s.Ay.get(`/${t}${e}`);if(200!==o.status)return;return o.data}catch(t){throw console.error(t),t}}async renderRoom(t){if(this.room)try{this.loader.enable();const[{room:e},{rooms:o}]=await Promise.all([this.getData("_get_choosed_room_info_"),this.getData("_get_other_boxes_")]),[r]=t.length?t.filter((t=>+t.warehouse_id==+e.warehouse_id)):[null];e&&(this.dataRoomElements.length&&this.dataRoomElements.forEach((t=>{const o=t.getAttribute("data-room");t.textContent="price"==o?(0,i.F)(e[o]):e[o],this.linkRoom.href=`./rent-room.html?ids=${encodeURIComponent(JSON.stringify([e.room_id]))}`,this.buttonRoom.setAttribute("data-room-id",e.room_id)})),this.pathContent&&r&&(this.pathContent.innerHTML=`\n            <a href="index.html" class="path__link hover-link">Главная</a>\n            <span class="path__sep">/</span>\n            <a href="calculator.html" class="path__link hover-link">Калькулятор</a>\n            <span class="path__sep">/</span>\n            <a href="./warehouse/1.html?id=${r.warehouse_id}" class="path__link hover-link">${r.warehouse_name}</a>\n            <span class="path__sep">/</span>\n            <span class="path__link">Кладовка ${e.room_id}</span>`)),o&&o.length&&this.cardsSliderWrapper}catch(t){throw console.error(t),t}finally{this.loader.disable()}}}}}]);